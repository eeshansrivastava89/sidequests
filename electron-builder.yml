appId: com.projectsdashboard.app
productName: Projects Dashboard
directories:
  output: dist
  buildResources: build

files:
  - dist-electron/**/*
  - .next/standalone/**/*
  - prisma/**/*
  - public/**/*
  - "!.next/standalone/.env*"
  - "!.next/standalone/settings.json"
  - "!.next/standalone/node_modules/.cache"
  - "!**/*.db"
  - "!**/*.db-journal"
  - "!**/pipeline/*.py"

# Static assets must live at .next/standalone/.next/static for the standalone server.
# The electron:build script copies them there before packaging.

mac:
  target:
    - dmg
    - zip
  category: public.app-category.developer-tools
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  notarize: true

dmg:
  sign: false

# Auto-update: publish to GitHub Releases
publish:
  provider: github
  owner: eeshans
  repo: projects-dashboard

extraMetadata:
  main: dist-electron/main.js
